{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\vonch\\\\Proyecto-Desarrollo-Web-Avanzada\\\\banco_peluche\\\\banco_peluche\\\\front-peluche\\\\src\\\\components\\\\ExportButtons.js\";\nimport React from 'react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction getName(item) {\n  var _ref, _ref2, _ref3, _ref4, _ref5, _item$nombre, _item$cliente, _item$data;\n  if (!item) return '-';\n  return (_ref = (_ref2 = (_ref3 = (_ref4 = (_ref5 = (_item$nombre = item.nombre) !== null && _item$nombre !== void 0 ? _item$nombre : item.name) !== null && _ref5 !== void 0 ? _ref5 : item.nombre_cliente) !== null && _ref4 !== void 0 ? _ref4 : item.nombreCliente) !== null && _ref3 !== void 0 ? _ref3 : (_item$cliente = item.cliente) === null || _item$cliente === void 0 ? void 0 : _item$cliente.nombre) !== null && _ref2 !== void 0 ? _ref2 : (_item$data = item.data) === null || _item$data === void 0 ? void 0 : _item$data.nombre) !== null && _ref !== void 0 ? _ref : typeof item === 'string' ? item : '-';\n}\nfunction getBoolMoroso(item) {\n  var _ref6, _ref7, _item$esMoroso;\n  const v = (_ref6 = (_ref7 = (_item$esMoroso = item === null || item === void 0 ? void 0 : item.esMoroso) !== null && _item$esMoroso !== void 0 ? _item$esMoroso : item === null || item === void 0 ? void 0 : item.moroso) !== null && _ref7 !== void 0 ? _ref7 : item === null || item === void 0 ? void 0 : item.isMoroso) !== null && _ref6 !== void 0 ? _ref6 : item === null || item === void 0 ? void 0 : item.moroso_flag;\n  if (v === undefined || v === null) return false;\n  if (typeof v === 'boolean') return v;\n  return String(v).toLowerCase() === 'sí' || String(v).toLowerCase() === 'si' || String(v).toLowerCase() === 'true' || String(Number(v)) === '1';\n}\nfunction fmt(n) {\n  return Number(n !== null && n !== void 0 ? n : 0).toLocaleString(undefined, {\n    minimumFractionDigits: 2,\n    maximumFractionDigits: 2\n  });\n}\nexport default function ExportButtons({\n  results = []\n}) {\n  const exportPDF = () => {\n    const rows = (results || []).map(r => {\n      var _ref8, _ref9, _r$saldoActual, _ref0, _r$interes, _r$multa;\n      const nombre = getName(r);\n      const saldo = (_ref8 = (_ref9 = (_r$saldoActual = r.saldoActual) !== null && _r$saldoActual !== void 0 ? _r$saldoActual : r.saldo) !== null && _ref9 !== void 0 ? _ref9 : r.saldoAnterior) !== null && _ref8 !== void 0 ? _ref8 : 0;\n      const interes = (_ref0 = (_r$interes = r.interes) !== null && _r$interes !== void 0 ? _r$interes : r.interest) !== null && _ref0 !== void 0 ? _ref0 : 0;\n      const moroso = getBoolMoroso(r) ? 'Sí' : 'No';\n      const multa = (_r$multa = r.multa) !== null && _r$multa !== void 0 ? _r$multa : 0;\n      return `<tr>\n        <td style=\"padding:8px;border-bottom:1px solid #eee\">${nombre}</td>\n        <td style=\"padding:8px;border-bottom:1px solid #eee;text-align:right\">${fmt(saldo)}</td>\n        <td style=\"padding:8px;border-bottom:1px solid #eee;text-align:right\">${moroso}</td>\n        <td style=\"padding:8px;border-bottom:1px solid #eee;text-align:right\">${fmt(interes)}</td>\n        <td style=\"padding:8px;border-bottom:1px solid #eee;text-align:right\">${fmt(multa)}</td>\n      </tr>`;\n    }).join('\\n');\n    const html = `\n      <html>\n        <head>\n          <meta charset=\"utf-8\"/>\n          <title>Clientes - Banco Peluche</title>\n          <style>\n            body { font-family: Arial, Helvetica, sans-serif; color:#012a56; padding:24px; }\n            h1 { color: #0357a6; }\n            table { width:100%; border-collapse: collapse; margin-top:12px; }\n            th { text-align:left; padding:10px; border-bottom:2px solid #dfefff; color:#03396c; }\n          </style>\n        </head>\n        <body>\n          <h1>Resultados de Clientes</h1>\n          <table>\n            <thead>\n              <tr>\n                <th>Nombre</th>\n                <th style=\"text-align:right\">Saldo Actual</th>\n                <th style=\"text-align:right\">Moroso</th>\n                <th style=\"text-align:right\">Interés</th>\n                <th style=\"text-align:right\">Multa</th>\n              </tr>\n            </thead>\n            <tbody>\n              ${rows}\n            </tbody>\n          </table>\n        </body>\n      </html>\n    `;\n    const w = window.open('', '_blank');\n    if (!w) return alert('Permite ventanas emergentes para exportar PDF.');\n    w.document.write(html);\n    w.document.close();\n    w.focus();\n    setTimeout(() => w.print(), 300);\n  };\n  const exportExcel = () => {\n    // si existe código para excel, mantenlo o agrega aquí\n    alert('Exportar Excel — función no implementada en este script.');\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      display: 'flex',\n      gap: 8\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"button\", {\n      className: \"btn-primary\",\n      onClick: exportExcel,\n      children: \"Descargar Excel\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      className: \"btn-primary\",\n      onClick: exportPDF,\n      children: \"Descargar PDF\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 85,\n    columnNumber: 5\n  }, this);\n}\n_c = ExportButtons;\nvar _c;\n$RefreshReg$(_c, \"ExportButtons\");","map":{"version":3,"names":["React","jsxDEV","_jsxDEV","getName","item","_ref","_ref2","_ref3","_ref4","_ref5","_item$nombre","_item$cliente","_item$data","nombre","name","nombre_cliente","nombreCliente","cliente","data","getBoolMoroso","_ref6","_ref7","_item$esMoroso","v","esMoroso","moroso","isMoroso","moroso_flag","undefined","String","toLowerCase","Number","fmt","n","toLocaleString","minimumFractionDigits","maximumFractionDigits","ExportButtons","results","exportPDF","rows","map","r","_ref8","_ref9","_r$saldoActual","_ref0","_r$interes","_r$multa","saldo","saldoActual","saldoAnterior","interes","interest","multa","join","html","w","window","open","alert","document","write","close","focus","setTimeout","print","exportExcel","style","display","gap","children","className","onClick","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["C:/Users/vonch/Proyecto-Desarrollo-Web-Avanzada/banco_peluche/banco_peluche/front-peluche/src/components/ExportButtons.js"],"sourcesContent":["import React from 'react';\r\n\r\nfunction getName(item) {\r\n  if (!item) return '-';\r\n  return item.nombre ??\r\n    item.name ??\r\n    item.nombre_cliente ??\r\n    item.nombreCliente ??\r\n    item.cliente?.nombre ??\r\n    item.data?.nombre ??\r\n    (typeof item === 'string' ? item : '-');\r\n}\r\nfunction getBoolMoroso(item) {\r\n  const v = item?.esMoroso ?? item?.moroso ?? item?.isMoroso ?? item?.moroso_flag;\r\n  if (v === undefined || v === null) return false;\r\n  if (typeof v === 'boolean') return v;\r\n  return String(v).toLowerCase() === 'sí' || String(v).toLowerCase() === 'si' || String(v).toLowerCase() === 'true' || String(Number(v)) === '1';\r\n}\r\nfunction fmt(n) {\r\n  return Number(n ?? 0).toLocaleString(undefined, { minimumFractionDigits: 2, maximumFractionDigits: 2 });\r\n}\r\n\r\nexport default function ExportButtons({ results = [] }) {\r\n  const exportPDF = () => {\r\n    const rows = (results || []).map(r => {\r\n      const nombre = getName(r);\r\n      const saldo = r.saldoActual ?? r.saldo ?? r.saldoAnterior ?? 0;\r\n      const interes = r.interes ?? r.interest ?? 0;\r\n      const moroso = getBoolMoroso(r) ? 'Sí' : 'No';\r\n      const multa = r.multa ?? 0;\r\n      return `<tr>\r\n        <td style=\"padding:8px;border-bottom:1px solid #eee\">${nombre}</td>\r\n        <td style=\"padding:8px;border-bottom:1px solid #eee;text-align:right\">${fmt(saldo)}</td>\r\n        <td style=\"padding:8px;border-bottom:1px solid #eee;text-align:right\">${moroso}</td>\r\n        <td style=\"padding:8px;border-bottom:1px solid #eee;text-align:right\">${fmt(interes)}</td>\r\n        <td style=\"padding:8px;border-bottom:1px solid #eee;text-align:right\">${fmt(multa)}</td>\r\n      </tr>`;\r\n    }).join('\\n');\r\n\r\n    const html = `\r\n      <html>\r\n        <head>\r\n          <meta charset=\"utf-8\"/>\r\n          <title>Clientes - Banco Peluche</title>\r\n          <style>\r\n            body { font-family: Arial, Helvetica, sans-serif; color:#012a56; padding:24px; }\r\n            h1 { color: #0357a6; }\r\n            table { width:100%; border-collapse: collapse; margin-top:12px; }\r\n            th { text-align:left; padding:10px; border-bottom:2px solid #dfefff; color:#03396c; }\r\n          </style>\r\n        </head>\r\n        <body>\r\n          <h1>Resultados de Clientes</h1>\r\n          <table>\r\n            <thead>\r\n              <tr>\r\n                <th>Nombre</th>\r\n                <th style=\"text-align:right\">Saldo Actual</th>\r\n                <th style=\"text-align:right\">Moroso</th>\r\n                <th style=\"text-align:right\">Interés</th>\r\n                <th style=\"text-align:right\">Multa</th>\r\n              </tr>\r\n            </thead>\r\n            <tbody>\r\n              ${rows}\r\n            </tbody>\r\n          </table>\r\n        </body>\r\n      </html>\r\n    `;\r\n    const w = window.open('', '_blank');\r\n    if (!w) return alert('Permite ventanas emergentes para exportar PDF.');\r\n    w.document.write(html);\r\n    w.document.close();\r\n    w.focus();\r\n    setTimeout(() => w.print(), 300);\r\n  };\r\n\r\n  const exportExcel = () => {\r\n    // si existe código para excel, mantenlo o agrega aquí\r\n    alert('Exportar Excel — función no implementada en este script.');\r\n  };\r\n\r\n  return (\r\n    <div style={{ display: 'flex', gap: 8 }}>\r\n      <button className=\"btn-primary\" onClick={exportExcel}>Descargar Excel</button>\r\n      <button className=\"btn-primary\" onClick={exportPDF}>Descargar PDF</button>\r\n    </div>\r\n  );\r\n}"],"mappings":";AAAA,OAAOA,KAAK,MAAM,OAAO;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAE1B,SAASC,OAAOA,CAACC,IAAI,EAAE;EAAA,IAAAC,IAAA,EAAAC,KAAA,EAAAC,KAAA,EAAAC,KAAA,EAAAC,KAAA,EAAAC,YAAA,EAAAC,aAAA,EAAAC,UAAA;EACrB,IAAI,CAACR,IAAI,EAAE,OAAO,GAAG;EACrB,QAAAC,IAAA,IAAAC,KAAA,IAAAC,KAAA,IAAAC,KAAA,IAAAC,KAAA,IAAAC,YAAA,GAAON,IAAI,CAACS,MAAM,cAAAH,YAAA,cAAAA,YAAA,GAChBN,IAAI,CAACU,IAAI,cAAAL,KAAA,cAAAA,KAAA,GACTL,IAAI,CAACW,cAAc,cAAAP,KAAA,cAAAA,KAAA,GACnBJ,IAAI,CAACY,aAAa,cAAAT,KAAA,cAAAA,KAAA,IAAAI,aAAA,GAClBP,IAAI,CAACa,OAAO,cAAAN,aAAA,uBAAZA,aAAA,CAAcE,MAAM,cAAAP,KAAA,cAAAA,KAAA,IAAAM,UAAA,GACpBR,IAAI,CAACc,IAAI,cAAAN,UAAA,uBAATA,UAAA,CAAWC,MAAM,cAAAR,IAAA,cAAAA,IAAA,GAChB,OAAOD,IAAI,KAAK,QAAQ,GAAGA,IAAI,GAAG,GAAG;AAC1C;AACA,SAASe,aAAaA,CAACf,IAAI,EAAE;EAAA,IAAAgB,KAAA,EAAAC,KAAA,EAAAC,cAAA;EAC3B,MAAMC,CAAC,IAAAH,KAAA,IAAAC,KAAA,IAAAC,cAAA,GAAGlB,IAAI,aAAJA,IAAI,uBAAJA,IAAI,CAAEoB,QAAQ,cAAAF,cAAA,cAAAA,cAAA,GAAIlB,IAAI,aAAJA,IAAI,uBAAJA,IAAI,CAAEqB,MAAM,cAAAJ,KAAA,cAAAA,KAAA,GAAIjB,IAAI,aAAJA,IAAI,uBAAJA,IAAI,CAAEsB,QAAQ,cAAAN,KAAA,cAAAA,KAAA,GAAIhB,IAAI,aAAJA,IAAI,uBAAJA,IAAI,CAAEuB,WAAW;EAC/E,IAAIJ,CAAC,KAAKK,SAAS,IAAIL,CAAC,KAAK,IAAI,EAAE,OAAO,KAAK;EAC/C,IAAI,OAAOA,CAAC,KAAK,SAAS,EAAE,OAAOA,CAAC;EACpC,OAAOM,MAAM,CAACN,CAAC,CAAC,CAACO,WAAW,CAAC,CAAC,KAAK,IAAI,IAAID,MAAM,CAACN,CAAC,CAAC,CAACO,WAAW,CAAC,CAAC,KAAK,IAAI,IAAID,MAAM,CAACN,CAAC,CAAC,CAACO,WAAW,CAAC,CAAC,KAAK,MAAM,IAAID,MAAM,CAACE,MAAM,CAACR,CAAC,CAAC,CAAC,KAAK,GAAG;AAChJ;AACA,SAASS,GAAGA,CAACC,CAAC,EAAE;EACd,OAAOF,MAAM,CAACE,CAAC,aAADA,CAAC,cAADA,CAAC,GAAI,CAAC,CAAC,CAACC,cAAc,CAACN,SAAS,EAAE;IAAEO,qBAAqB,EAAE,CAAC;IAAEC,qBAAqB,EAAE;EAAE,CAAC,CAAC;AACzG;AAEA,eAAe,SAASC,aAAaA,CAAC;EAAEC,OAAO,GAAG;AAAG,CAAC,EAAE;EACtD,MAAMC,SAAS,GAAGA,CAAA,KAAM;IACtB,MAAMC,IAAI,GAAG,CAACF,OAAO,IAAI,EAAE,EAAEG,GAAG,CAACC,CAAC,IAAI;MAAA,IAAAC,KAAA,EAAAC,KAAA,EAAAC,cAAA,EAAAC,KAAA,EAAAC,UAAA,EAAAC,QAAA;MACpC,MAAMnC,MAAM,GAAGV,OAAO,CAACuC,CAAC,CAAC;MACzB,MAAMO,KAAK,IAAAN,KAAA,IAAAC,KAAA,IAAAC,cAAA,GAAGH,CAAC,CAACQ,WAAW,cAAAL,cAAA,cAAAA,cAAA,GAAIH,CAAC,CAACO,KAAK,cAAAL,KAAA,cAAAA,KAAA,GAAIF,CAAC,CAACS,aAAa,cAAAR,KAAA,cAAAA,KAAA,GAAI,CAAC;MAC9D,MAAMS,OAAO,IAAAN,KAAA,IAAAC,UAAA,GAAGL,CAAC,CAACU,OAAO,cAAAL,UAAA,cAAAA,UAAA,GAAIL,CAAC,CAACW,QAAQ,cAAAP,KAAA,cAAAA,KAAA,GAAI,CAAC;MAC5C,MAAMrB,MAAM,GAAGN,aAAa,CAACuB,CAAC,CAAC,GAAG,IAAI,GAAG,IAAI;MAC7C,MAAMY,KAAK,IAAAN,QAAA,GAAGN,CAAC,CAACY,KAAK,cAAAN,QAAA,cAAAA,QAAA,GAAI,CAAC;MAC1B,OAAO;AACb,+DAA+DnC,MAAM;AACrE,gFAAgFmB,GAAG,CAACiB,KAAK,CAAC;AAC1F,gFAAgFxB,MAAM;AACtF,gFAAgFO,GAAG,CAACoB,OAAO,CAAC;AAC5F,gFAAgFpB,GAAG,CAACsB,KAAK,CAAC;AAC1F,YAAY;IACR,CAAC,CAAC,CAACC,IAAI,CAAC,IAAI,CAAC;IAEb,MAAMC,IAAI,GAAG;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgBhB,IAAI;AACpB;AACA;AACA;AACA;AACA,KAAK;IACD,MAAMiB,CAAC,GAAGC,MAAM,CAACC,IAAI,CAAC,EAAE,EAAE,QAAQ,CAAC;IACnC,IAAI,CAACF,CAAC,EAAE,OAAOG,KAAK,CAAC,gDAAgD,CAAC;IACtEH,CAAC,CAACI,QAAQ,CAACC,KAAK,CAACN,IAAI,CAAC;IACtBC,CAAC,CAACI,QAAQ,CAACE,KAAK,CAAC,CAAC;IAClBN,CAAC,CAACO,KAAK,CAAC,CAAC;IACTC,UAAU,CAAC,MAAMR,CAAC,CAACS,KAAK,CAAC,CAAC,EAAE,GAAG,CAAC;EAClC,CAAC;EAED,MAAMC,WAAW,GAAGA,CAAA,KAAM;IACxB;IACAP,KAAK,CAAC,0DAA0D,CAAC;EACnE,CAAC;EAED,oBACE1D,OAAA;IAAKkE,KAAK,EAAE;MAAEC,OAAO,EAAE,MAAM;MAAEC,GAAG,EAAE;IAAE,CAAE;IAAAC,QAAA,gBACtCrE,OAAA;MAAQsE,SAAS,EAAC,aAAa;MAACC,OAAO,EAAEN,WAAY;MAAAI,QAAA,EAAC;IAAe;MAAAG,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAQ,CAAC,eAC9E3E,OAAA;MAAQsE,SAAS,EAAC,aAAa;MAACC,OAAO,EAAElC,SAAU;MAAAgC,QAAA,EAAC;IAAa;MAAAG,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAQ,CAAC;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACvE,CAAC;AAEV;AAACC,EAAA,GAnEuBzC,aAAa;AAAA,IAAAyC,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}