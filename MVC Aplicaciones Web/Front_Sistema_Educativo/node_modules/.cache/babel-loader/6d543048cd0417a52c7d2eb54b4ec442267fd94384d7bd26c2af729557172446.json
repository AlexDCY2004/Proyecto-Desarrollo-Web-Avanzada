{"ast":null,"code":"import apiClient from './apiClient';\nconst BASE_URL = process.env.REACT_APP_API_URL || 'http://localhost:3000';\nexport async function login(username, password) {\n  try {\n    const response = await apiClient.post('/api/auth/login', {\n      username,\n      password\n    });\n    const {\n      token,\n      usuario\n    } = response.data;\n\n    // Guardar token y usuario en localStorage\n    localStorage.setItem('token', token);\n    localStorage.setItem('usuario', JSON.stringify(usuario));\n    return {\n      token,\n      usuario\n    };\n  } catch (err) {\n    var _err$response, _err$response$data;\n    throw new Error(((_err$response = err.response) === null || _err$response === void 0 ? void 0 : (_err$response$data = _err$response.data) === null || _err$response$data === void 0 ? void 0 : _err$response$data.error) || 'Error en la autenticación');\n  }\n}\nexport function logout() {\n  localStorage.removeItem('token');\n  localStorage.removeItem('usuario');\n}\nexport function obtenerUsuarioActual() {\n  const usuario = localStorage.getItem('usuario');\n  return usuario ? JSON.parse(usuario) : null;\n}\nexport function obtenerToken() {\n  return localStorage.getItem('token');\n}\nexport function estaAutenticado() {\n  return !!obtenerToken();\n}","map":{"version":3,"names":["apiClient","BASE_URL","process","env","REACT_APP_API_URL","login","username","password","response","post","token","usuario","data","localStorage","setItem","JSON","stringify","err","_err$response","_err$response$data","Error","error","logout","removeItem","obtenerUsuarioActual","getItem","parse","obtenerToken","estaAutenticado"],"sources":["C:/Users/nandi/Downloads/Sistema de calificaciones/Sistema de calificaciones/MVC Aplicaciones Web/Front_Sistema_Educativo/src/services/authService.js"],"sourcesContent":["import apiClient from './apiClient';\r\n\r\nconst BASE_URL = process.env.REACT_APP_API_URL || 'http://localhost:3000';\r\n\r\nexport async function login(username, password) {\r\n  try {\r\n    const response = await apiClient.post('/api/auth/login', {\r\n      username,\r\n      password\r\n    });\r\n    \r\n    const { token, usuario } = response.data;\r\n    \r\n    // Guardar token y usuario en localStorage\r\n    localStorage.setItem('token', token);\r\n    localStorage.setItem('usuario', JSON.stringify(usuario));\r\n    \r\n    return { token, usuario };\r\n  } catch (err) {\r\n    throw new Error(err.response?.data?.error || 'Error en la autenticación');\r\n  }\r\n}\r\n\r\nexport function logout() {\r\n  localStorage.removeItem('token');\r\n  localStorage.removeItem('usuario');\r\n}\r\n\r\nexport function obtenerUsuarioActual() {\r\n  const usuario = localStorage.getItem('usuario');\r\n  return usuario ? JSON.parse(usuario) : null;\r\n}\r\n\r\nexport function obtenerToken() {\r\n  return localStorage.getItem('token');\r\n}\r\n\r\nexport function estaAutenticado() {\r\n  return !!obtenerToken();\r\n}"],"mappings":"AAAA,OAAOA,SAAS,MAAM,aAAa;AAEnC,MAAMC,QAAQ,GAAGC,OAAO,CAACC,GAAG,CAACC,iBAAiB,IAAI,uBAAuB;AAEzE,OAAO,eAAeC,KAAKA,CAACC,QAAQ,EAAEC,QAAQ,EAAE;EAC9C,IAAI;IACF,MAAMC,QAAQ,GAAG,MAAMR,SAAS,CAACS,IAAI,CAAC,iBAAiB,EAAE;MACvDH,QAAQ;MACRC;IACF,CAAC,CAAC;IAEF,MAAM;MAAEG,KAAK;MAAEC;IAAQ,CAAC,GAAGH,QAAQ,CAACI,IAAI;;IAExC;IACAC,YAAY,CAACC,OAAO,CAAC,OAAO,EAAEJ,KAAK,CAAC;IACpCG,YAAY,CAACC,OAAO,CAAC,SAAS,EAAEC,IAAI,CAACC,SAAS,CAACL,OAAO,CAAC,CAAC;IAExD,OAAO;MAAED,KAAK;MAAEC;IAAQ,CAAC;EAC3B,CAAC,CAAC,OAAOM,GAAG,EAAE;IAAA,IAAAC,aAAA,EAAAC,kBAAA;IACZ,MAAM,IAAIC,KAAK,CAAC,EAAAF,aAAA,GAAAD,GAAG,CAACT,QAAQ,cAAAU,aAAA,wBAAAC,kBAAA,GAAZD,aAAA,CAAcN,IAAI,cAAAO,kBAAA,uBAAlBA,kBAAA,CAAoBE,KAAK,KAAI,2BAA2B,CAAC;EAC3E;AACF;AAEA,OAAO,SAASC,MAAMA,CAAA,EAAG;EACvBT,YAAY,CAACU,UAAU,CAAC,OAAO,CAAC;EAChCV,YAAY,CAACU,UAAU,CAAC,SAAS,CAAC;AACpC;AAEA,OAAO,SAASC,oBAAoBA,CAAA,EAAG;EACrC,MAAMb,OAAO,GAAGE,YAAY,CAACY,OAAO,CAAC,SAAS,CAAC;EAC/C,OAAOd,OAAO,GAAGI,IAAI,CAACW,KAAK,CAACf,OAAO,CAAC,GAAG,IAAI;AAC7C;AAEA,OAAO,SAASgB,YAAYA,CAAA,EAAG;EAC7B,OAAOd,YAAY,CAACY,OAAO,CAAC,OAAO,CAAC;AACtC;AAEA,OAAO,SAASG,eAAeA,CAAA,EAAG;EAChC,OAAO,CAAC,CAACD,YAAY,CAAC,CAAC;AACzB","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}